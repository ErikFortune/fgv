<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@fgv/ts-json](./ts-json.md) &gt; [Diff](./ts-json.diff.md) &gt; [jsonDiff](./ts-json.diff.jsondiff.md)

## Diff.jsonDiff() function

Performs a deep diff comparison between two JSON values.

This function provides detailed change tracking by analyzing every difference between two JSON structures. It returns a list of specific changes with paths, making it ideal for debugging, logging, change analysis, and understanding exactly what has changed between two data states.

\*\*Key Features:\*\* - Deep recursive comparison of nested objects and arrays - Precise path tracking using dot notation (e.g., "user.profile.name") - Support for all JSON value types: objects, arrays, primitives, null - Configurable array comparison (ordered vs unordered) - Optional inclusion of unchanged values for complete comparisons

\*\*Use Cases:\*\* - Debugging data changes in applications - Generating change logs or audit trails - Validating API responses against expected data - Creating detailed diff reports for data synchronization

**Signature:**

```typescript
export declare function jsonDiff(obj1: JsonValue, obj2: JsonValue, options?: IJsonDiffOptions): Result<IDiffResult>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

obj1


</td><td>

JsonValue


</td><td>

The first JSON value to compare (often the "before" state)


</td></tr>
<tr><td>

obj2


</td><td>

JsonValue


</td><td>

The second JSON value to compare (often the "after" state)


</td></tr>
<tr><td>

options


</td><td>

[IJsonDiffOptions](./ts-json.diff.ijsondiffoptions.md)


</td><td>

_(Optional)_ Optional configuration for customizing diff behavior


</td></tr>
</tbody></table>

**Returns:**

Result&lt;[IDiffResult](./ts-json.diff.idiffresult.md)<!-- -->&gt;

A Result containing the diff result with all detected changes

## Example 1

Basic usage with objects

```typescript
const before = { name: "John", age: 30, city: "NYC" };
const after = { name: "Jane", age: 30, country: "USA" };

const result = jsonDiff(before, after);
if (result.success) {
  result.value.changes.forEach(change => {
    console.log(`${change.path}: ${change.type}`);
    // Output:
    // name: modified
    // city: removed
    // country: added
  });
}
```

## Example 2

With arrays and nested structures

```typescript
const user1 = {
  profile: { name: "John", hobbies: ["reading"] },
  settings: { theme: "dark" }
};
const user2 = {
  profile: { name: "John", hobbies: ["reading", "gaming"] },
  settings: { theme: "light", notifications: true }
};

const result = jsonDiff(user1, user2);
if (result.success) {
  console.log(result.value.changes);
  // [
  //   { path: "profile.hobbies.1", type: "added", newValue: "gaming" },
  //   { path: "settings.theme", type: "modified", oldValue: "dark", newValue: "light" },
  //   { path: "settings.notifications", type: "added", newValue: true }
  // ]
}
```

## Example 3

Using options for custom behavior

```typescript
const options: IJsonDiffOptions = {
  includeUnchanged: true,        // Include unchanged properties
  pathSeparator: '/',            // Use '/' instead of '.' in paths
  arrayOrderMatters: false       // Treat arrays as unordered sets
};

const result = jsonDiff(obj1, obj2, options);
```

