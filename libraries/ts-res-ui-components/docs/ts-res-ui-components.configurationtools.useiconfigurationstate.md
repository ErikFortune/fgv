<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@fgv/ts-res-ui-components](./ts-res-ui-components.md) &gt; [ConfigurationTools](./ts-res-ui-components.configurationtools.md) &gt; [useIConfigurationState](./ts-res-ui-components.configurationtools.useiconfigurationstate.md)

## ConfigurationTools.useIConfigurationState() function

Hook for managing system configuration state including qualifiers, qualifier types, and resource types.

Provides comprehensive configuration management with validation, change tracking, and import/export capabilities. Supports both visual editing and JSON editing modes with real-time validation.

**Signature:**

```typescript
export declare function useIConfigurationState(initialConfiguration?: Config.Model.ISystemConfiguration, onConfigurationChange?: (config: Config.Model.ISystemConfiguration) => void, onUnsavedChanges?: (hasChanges: boolean) => void): IUseIConfigurationStateReturn;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

initialConfiguration


</td><td>

Config.Model.ISystemConfiguration


</td><td>

_(Optional)_ Optional initial configuration. Defaults to system default configuration


</td></tr>
<tr><td>

onConfigurationChange


</td><td>

(config: Config.Model.ISystemConfiguration) =&gt; void


</td><td>

_(Optional)_ Optional callback invoked when configuration changes (not on first mount)


</td></tr>
<tr><td>

onUnsavedChanges


</td><td>

(hasChanges: boolean) =&gt; void


</td><td>

_(Optional)_ Optional callback invoked when unsaved changes state changes


</td></tr>
</tbody></table>

**Returns:**

IUseIConfigurationStateReturn

Object containing: - `state` - Current configuration state with change tracking and validation - `actions` - Methods for modifying and managing the configuration - `templates` - Available configuration templates for quick loading

## Example 1

Basic usage:

```typescript
const { state, actions } = useIConfigurationState();

// Check for unsaved changes
if (state.hasUnsavedChanges) {
  console.log('Configuration has been modified');
}

// Add a new qualifier
actions.addQualifier({
  name: 'language',
  typeName: 'language',
  defaultPriority: 100
});
```

## Example 2

With change notifications:

```typescript
const { state, actions } = useIConfigurationState(
  undefined,
  (config) => console.log('Configuration changed:', config),
  (hasChanges) => console.log('Has unsaved changes:', hasChanges)
);
```

## Example 3

JSON import/export:

```typescript
const { actions } = useIConfigurationState();

// Export to JSON
const exportResult = actions.exportToJson({ pretty: true });
if (exportResult.isSuccess()) {
  console.log(exportResult.value); // JSON string
}

// Import from JSON
const importResult = actions.importFromJson(jsonString);
if (importResult.isFailure()) {
  console.error('Import failed:', importResult.message);
}
```

