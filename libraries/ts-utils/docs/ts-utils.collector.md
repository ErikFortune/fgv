<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@fgv/ts-utils](./ts-utils.md) &gt; [Collector](./ts-utils.collector.md)

## Collector class

A [Collector](./ts-utils.icollector.md) that collects [ICollectible](./ts-utils.collections.icollectible.md) items. Items in a collector are created by key and are assigned an index at the time of addition. Items are immutable once added. Keys and indexes might be branded types, and source items might be transformed on addition.

**Signature:**

```typescript
export declare class Collector<TKEY extends string = string, TINDEX extends number = number, TITEM extends ICollectible<TKEY, TINDEX> = ICollectible<TKEY, TINDEX>, TSRC = TITEM> implements ICollector<TKEY, TINDEX, TITEM, TSRC> 
```
**Implements:** [ICollector](./ts-utils.icollector.md)<!-- -->&lt;TKEY, TINDEX, TITEM, TSRC&gt;

## Constructors

<table><thead><tr><th>

Constructor


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[(constructor)(params)](./ts-utils.collector._constructor_.md)


</td><td>

`protected`


</td><td>

Constructor for derived classes.


</td></tr>
</tbody></table>

## Properties

<table><thead><tr><th>

Property


</th><th>

Modifiers


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[inner](./ts-utils.collector.inner.md)


</td><td>

`readonly`


</td><td>

ReadonlyMap&lt;TKEY, TITEM&gt;


</td><td>


</td></tr>
<tr><td>

[size](./ts-utils.collector.size.md)


</td><td>

`readonly`


</td><td>

number


</td><td>


</td></tr>
</tbody></table>

## Methods

<table><thead><tr><th>

Method


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[\_isFactoryCB(item)](./ts-utils.collector._isfactorycb.md)


</td><td>

`protected`


</td><td>


</td></tr>
<tr><td>

[\_simpleFactory(key, index, item)](./ts-utils.collector._simplefactory.md)


</td><td>

`protected`

`static`


</td><td>

A simple factory method for derived classes which directly store the supplied object.


</td></tr>
<tr><td>

[\[Symbol.iterator\]()](./ts-utils.collector._symbol.iterator_.md)


</td><td>


</td><td>

Gets an iterator over the map entries.


</td></tr>
<tr><td>

[add(key, item)](./ts-utils.collector.add.md)


</td><td>


</td><td>

Adds an item to the collector using the default [factory](./ts-utils.collections.collectiblefactory.md) at a specified key, failing if an item with that key already exists.


</td></tr>
<tr><td>

[add(key, cb)](./ts-utils.collector.add_1.md)


</td><td>


</td><td>



</td></tr>
<tr><td>

[addItem(item)](./ts-utils.collector.additem.md)


</td><td>


</td><td>

Adds an item to the collector using the default [factory](./ts-utils.collections.collectiblefactory.md) at a specified key, failing if an item with that key already exists.


</td></tr>
<tr><td>

[entries()](./ts-utils.collector.entries.md)


</td><td>


</td><td>


</td></tr>
<tr><td>

[forEach(callback, arg)](./ts-utils.collector.foreach.md)


</td><td>


</td><td>


</td></tr>
<tr><td>

[get(key)](./ts-utils.collector.get.md)


</td><td>


</td><td>


</td></tr>
<tr><td>

[getAt(index)](./ts-utils.collector.getat.md)


</td><td>


</td><td>

Gets the item at a specified index.


</td></tr>
<tr><td>

[getOrAdd(key, item)](./ts-utils.collector.getoradd.md)


</td><td>


</td><td>

Gets an item by key if it exists, or creates a new item and adds it using the default [factory](./ts-utils.collections.collectiblefactory.md) if not.


</td></tr>
<tr><td>

[getOrAdd(key, cb)](./ts-utils.collector.getoradd_1.md)


</td><td>


</td><td>

Gets an item by key if it exists, or creates a new item and adds it using the specified [factory callback](./ts-utils.collections.collectiblefactorycallback.md) if not.


</td></tr>
<tr><td>

[getOrAddItem(item)](./ts-utils.collector.getoradditem.md)


</td><td>


</td><td>

Gets an existing item with a key matching that of a supplied item, or adds the supplied item to the collector if no item with that key exists.


</td></tr>
<tr><td>

[has(key)](./ts-utils.collector.has.md)


</td><td>


</td><td>


</td></tr>
<tr><td>

[keys()](./ts-utils.collector.keys.md)


</td><td>


</td><td>


</td></tr>
<tr><td>

[toReadOnly()](./ts-utils.collector.toreadonly.md)


</td><td>


</td><td>

Gets a [read-only map](./ts-utils.ireadonlyresultmap.md) which can access the items in the collector.


</td></tr>
<tr><td>

[values()](./ts-utils.collector.values.md)


</td><td>


</td><td>


</td></tr>
</tbody></table>
